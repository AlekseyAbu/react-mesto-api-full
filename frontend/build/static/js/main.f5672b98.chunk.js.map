{"version":3,"sources":["images/Vector.svg","utils/token.js","components/contexts.js","components/Header.js","images/plus.svg","components/Card.js","components/Main.js","components/Footer.js","utils/Api.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","mestoAuth.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/Union.svg","images/Union-no.svg","components/InfoTooltip.js","components/App.js","serviceWorker.js","index.js"],"names":["TOKEN_KEY","setToken","token","localStorage","setItem","getToken","getItem","removeToken","removeItem","CurrentUserContext","React","createContext","Header","props","headerEmail","loggedIn","history","useHistory","className","src","imageLogo","alt","userData","email","exact","path","to","onClick","push","Card","item","onCardClick","onCardDelete","onCardLike","onCardDislike","currentUser","useContext","console","log","isOwn","owner","_id","link","name","Main","onEditAvatar","style","backgroundImage","avatar","onEditProfile","about","onAddPlace","imagePlus","dataCard","map","i","Footer","api","baseUrl","handleOriginalResponse","res","ok","json","Promise","reject","status","this","_baseUrl","all","getInitialCards","getUserInfo","fetch","headers","then","id","method","body","JSON","stringify","_headers","userAvatar","ImagePopup","Object","keys","card","length","onClose","EditProfilePopup","useState","setName","setAbout","useEffect","isOpen","isClose","onSubmit","e","preventDefault","data","onSubmitHandler","noValidate","type","defaultValue","minLength","maxLength","required","placeholder","value","onChange","target","EditAvatarPopup","inputURL","useRef","current","onUpdateAvatar","reset","ref","AddPlacePopup","inputName","BASE_URL","withRouter","password","setData","handleChange","prevData","authorizeMesto","registerMesto","ProtectedRoute","Component","component","InfoTooltip","isInfoTooltip","imageSuccessfully","imageUnsuccessful","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","selectedCard","setSelectedCard","dataCards","setDataCards","setisInfoTooltip","setCurrentUser","handleClosePopup","startInfo","getAppInfo","initialCard","profileData","catch","err","error","setLoggedIn","setUserData","setMessage","setStatus","handleLogin","tokenCheck","jwt","response","Provider","isPlace","isAvatar","deletInitialCards","newDataCards","filter","likeCard","newCard","dislikeCard","mestoAuth","username","creatProfile","creatAvatar","createInitialCards","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.f5672b98.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vector.a307e1c4.svg\";","const TOKEN_KEY = 'jwt';\n\nexport const setToken = (token) => {\n  localStorage.setItem(TOKEN_KEY, token);\n}\n\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\n\nexport const removeToken = () => {\n  localStorage.removeItem(TOKEN_KEY)\n}\n","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport imageLogo from '../images/Vector.svg';\nimport { Route, Switch, Link, useHistory } from 'react-router-dom';\nimport { removeToken } from '../utils/token';\nimport { CurrentUserContext } from './contexts.js';\n\nfunction Header(props) {\n    const headerEmail = `${props.loggedIn ? 'header__email' : 'header__email_hidden'}`;\n    const history = useHistory();\n\n    const signOut = () => {\n        removeToken();\n        history.push('/signin')\n    }\n\n    return (\n        <section>\n            <header className=\"header\">\n                <img className=\"header__logo\" src={imageLogo} alt=\"Логотип\" />\n                <div className='header__info'>\n                    <p className={headerEmail}>{props.userData.email}</p>\n\n                    <Switch>\n                        <Route exact path='/'>\n                            <Link to='/signin' className='header__link' onClick={signOut}>Выйти</Link>\n                        </Route>\n                        <Route path='/signin'>\n                            <Link to='/signup' className='header__link'>Регистрация</Link>\n                        </Route>\n                        <Route path='/signup'>\n                            <Link to='/signin' className='header__link'>Войти</Link>\n                        </Route>\n                    </Switch>\n                </div>\n            </header>\n        </section>\n    )\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/plus.d86bb2ed.svg\";","import React from 'react';\nimport { CurrentUserContext } from './contexts.js';\n\nfunction Card({ item, onCardClick, onCardDelete, onCardLike, onCardDislike }) {\n    function handleClick() {\n        onCardClick(item);\n    };\n    function handleCardLike() {\n        onCardLike(item)\n    }\n    function handleCardDislike() {\n        onCardDislike(item)\n    }\n    function handleCardDelete() {\n        onCardDelete(item._id)\n    }\n    const currentUser = React.useContext(CurrentUserContext);\n    console.log(item)\n    console.log(currentUser)\n    const isOwn = item.owner === currentUser._id;\n    // const isLiked = item.likes.some(i => i._id === currentUser._id);\n    return (\n        <li className=\"card\">\n            <button onClick={handleCardDelete} className={`card__basket ${isOwn ? 'card__basket_active' : ''}`}></button>\n            {/* {isOwn && <button type=\"button\" className='card__basket card__basket_active' onClick={onCardDelete}></button>} */}\n            <img className=\"card__img\" src={item.link} alt=\"Карачаевск\" onClick={handleClick} />\n            <div className=\"card__label\">\n                <h3 className=\"card__title\">{item.name}</h3>\n                <div className=\"card__conteiner-like\">\n                    {/* <button onClick={() => { if (isLiked) { handleCardDislike() } else { handleCardLike() } }} className={`card__label-like ${isLiked ? 'card__label-like_black' : ''}`}></button> */}\n                    {/* {isLiked && <button type=\"button\" className='card__label-like card__label-like_black' onClick={onCardLike}></button>}{isLiked ? handleCardLike() : handleCardDislike()} */}\n                    {/* <p className=\"card__number-like\">{item.likes.length}</p> */}\n                </div>\n            </div>\n        </li>\n    )\n}\n\nexport default Card;\n\n","import React from 'react';\nimport imagePlus from '../images/plus.svg';\nimport Card from './Card.js';\nimport {CurrentUserContext} from './contexts.js';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    \n    return (\n        <main className=\"main\">\n            <section className=\"profile\">\n                <button className=\"profile__foto\" onClick={props.onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}></button>\n                <div className=\"profile__description\">\n                    <div className=\"profile__name\">\n                        <h2 className=\"profile__title\">{currentUser.name}</h2>\n                        <button className=\"profile__title-buttom\" onClick={props.onEditProfile}></button>\n                    </div>\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__button\" onClick={props.onAddPlace}>\n                    <img className=\"profile__plus\" src={imagePlus} alt=\"Плюс\" />\n                </button>\n            </section>\n\n            <section className=\"content\">\n                <ul className=\"content__cards\">\n                {props.dataCard.map((item, i) => <Card key={i} item={item} \n                onCardClick={props.onCardClick}\n                onCardDelete={props.onCardDelete}\n                onCardLike={props.onCardLike}\n                onCardDislike={props.onCardDislike}\n                />)}\n                </ul>\n            </section>         \n        </main>\n    )\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n        </footer>\n    )\n}\n\nexport default Footer;","class Api {\n    constructor({ baseUrl}) {\n        this._baseUrl = baseUrl;\n        // this._headers = headers;\n        // this._groupID = groupID;\n    }\n\n    handleOriginalResponse = function(res){\n        if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(`Error: ${res.status}`);\n        \n    }\n\n    getAppInfo(token) {\n        return Promise.all([this.getInitialCards(token), this.getUserInfo(token)]);\n    }\n    getInitialCards(token) {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: {\n                'Content-Type': 'application/json',\n                'authorization': `Bearer ${token}`\n            }\n        })\n            .then(this.handleOriginalResponse)\n    }\n\n    deletInitialCards(id, token) {\n        return fetch(`${this._baseUrl}/cards/${id}`, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n                'authorization': `Bearer ${token}`\n            }\n        })\n        .then(this.handleOriginalResponse)\n    }\n\n    createInitialCards(item, token) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'authorization': `Bearer ${token}`\n            },\n            body: JSON.stringify(item)\n        })\n        .then(this.handleOriginalResponse)\n    }\n///////////\n    getUserInfo(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: {\n                'Content-Type': 'application/json',\n                'authorization': `Bearer ${token}`\n            }\n        })\n        .then(this.handleOriginalResponse)\n    }\n\n    likeCard(id) {\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n        .then(this.handleOriginalResponse)\n    }\n\n    dislikeCard(id) {\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n        .then(this.handleOriginalResponse)\n    }\n\n    creatProfile({name, about}) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({name, about})\n        })\n        .then(this.handleOriginalResponse)\n    }\n\n    creatAvatar(userAvatar) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({avatar: userAvatar})\n        })\n        .then(this.handleOriginalResponse)\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'http://api.mestoabu.students.nomoredomains.icu'\n})\n\nexport default api;","import React from 'react';\n\nfunction ImagePopup(props) {\n    // console.log(props.card)\n    return(\n        <section className={`popup popup-img ${Object.keys(props.card).length > 0 ? 'popup_opened' : ''}`} >\n              <div className=\"popup-img__container\">\n                <button className=\"popup__close-button popup__close-button_img\" onClick={props.onClose}></button>\n                <img className=\"popup-img__img\" src={props.card.link} alt=\"#\" />\n                <p className=\"popup-img__text\"></p>\n              </div>\n            </section>\n    )\n}\n\nexport default ImagePopup;","import React, { useEffect, useState } from 'react';\nimport { CurrentUserContext } from './contexts.js';\n\nfunction EditProfilePopup(props) {\n    const [ name, setName ] = React.useState('');\n    const [ about, setAbout ] = React.useState('');\n    const currentUser = React.useContext(CurrentUserContext);\n\n    function onSubmit(e) {\n        e.preventDefault()\n        const data = {\n            name,\n            about\n        };\n        props.onSubmitHandler(data);\n        setName('');\n        setAbout('');\n    }\n\n    useEffect(() => {\n        setName(currentUser.name)\n        setAbout(currentUser.about)\n    }, [currentUser]);\n\n    return (\n        <section className={`popup popup_profile ${props.isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <button className=\"popup__close-button\" onClick={props.isClose}></button>\n                <h2 className=\"popup__title\">Редактировать профиль</h2>\n                <form className=\"popup__form\" name=\"save\" onSubmit={onSubmit} noValidate>\n                    <input id='input__name' type=\"text\" className=\"popup__input popup__input_name\" name=\"name\" defaultValue=\"\"\n                        minLength=\"2\" maxLength=\"40\" required placeholder=\"Ваше имя?\" value={name} onChange={e => setName(e.target.value)} />\n                    <span id='input__name-error' className=\"popup__error\"></span>\n                    <input id='input__description' type=\"text\" className=\"popup__input popup__input_description\"\n                        name=\"about\" defaultValue=\"\" minLength=\"2\" maxLength=\"200\" required placeholder=\"О себе\" value={about} onChange={e => setAbout(e.target.value)} />\n                    <span id='input__description-error' className=\"popup__error\"></span>\n                    <button className=\"popup__save\" >Сохранить</button>\n                </form>\n            </div>\n        </section>\n    )\n}\n\nexport default EditProfilePopup;","import React, {useRef} from 'react';\n\nfunction EditAvatarPopup(props) {\n    const inputURL = useRef(null);\n\n    function onSubmit(e) {\n        e.preventDefault();\n\n        const avatar = inputURL.current.value\n        console.log(avatar)\n\n        props.onUpdateAvatar(avatar);\n\n        e.target.reset();\n\n    }\n    \n    return (\n        <section className={`popup popup_avatar ${props.isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <button className=\"popup__close-button\" onClick={props.isClose}></button>\n                <h2 className=\"popup__title\">Обновить аватар</h2>\n                <form onSubmit={onSubmit} className=\"popup__form\" name=\"save\" noValidate>\n                    <input ref={inputURL} id='input__name' type=\"url\" className=\"popup__input popup__input_name\" name=\"name\" defaultValue=\"\"\n                        minLength=\"2\" maxLength=\"200\" required placeholder=\"URl\" />\n                    <span id='input__name-error' className=\"popup__error\"></span>\n                    <button className=\"popup__save\" >Сохранить</button>\n                </form>\n            </div>\n        </section>\n    )\n};\n\nexport default EditAvatarPopup;","import React, {useRef} from 'react';\n\nfunction AddPlacePopup(props) {\n    const inputName = useRef(null);\n    const inputURL = useRef(null);\n\n    function onSubmit(e) {\n        e.preventDefault();\n\n        const data = {\n            name: inputName.current.value,\n            link: inputURL.current.value\n        }\n\n        props.onAddPlace(data)\n        \n        e.target.reset();\n    }\n\n    return (\n        <section className={`popup popup_card ${props.isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <button className=\"popup__close-button\" onClick={props.isClose}></button>\n                <h2 className=\"popup__title\">Новое место</h2>\n                <form onSubmit={onSubmit} className=\"popup__form\" name=\"save\" noValidate>\n                    <input ref={inputName} id='input__cardname' type=\"text\" className=\"popup__input popup__input_name popup__input_cardname\"\n                        name=\"name\" defaultValue=\"\" placeholder='Название' required minLength=\"2\" maxLength=\"40\" placeholder=\"Название\" />\n                    <span id='input__cardname-error' className=\"popup__error\"></span>\n                    <input ref={inputURL} id='input__link' type=\"url\" className=\"popup__input popup__input_description popup__input_link\"\n                        name=\"link\" defaultValue=\"\" placeholder=\"Ссылка на картинку\" required placeholder=\"Ссылка\" />\n                    <span id='input__link-error' className=\"popup__error\"></span>\n                    <button className=\"popup__save\" >Сохранить</button>\n                </form>\n            </div>\n        </section>\n    )\n}\n\nexport default AddPlacePopup;","import { setToken } from './utils/token';\nexport const BASE_URL = 'http://api.mestoabu.students.nomoredomains.icu';\n\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {       \n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then((response) => {\n            if (response.ok) {\n                return response.json();\n            }\n            Promise.reject(`Ошибка: ${response.status}`)\n        })  \n};\n\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'     \n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then((response) => {\n            if(response.ok){\n                return response.json()\n            }\n            Promise.reject(`Ошибка: ${response.status}`)\n        })\n        .then((data) => {\n            console.log(data)\n            if (data) {\n                console.log(data)\n                setToken(data.token);\n                return data;\n            } else {\n                return;\n            }\n        }) \n};\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n        }\n    })\n    .then((response => {\n        \n        if(response.ok){\n            return response.json()\n        }\n        Promise.reject(`Ошибка: ${response.status}`)\n    }))\n        \n}\n\n\n\n","import { render } from '@testing-library/react';\nimport React, { useState } from 'react';\nimport { useEffect, Link, useHistory, withRouter } from 'react-router-dom';\nimport * as mestoAuth from '../mestoAuth.js';\nimport { setToken } from '../utils/token';\n\nfunction Login(props) {\n    const [data, setData] = useState({\n        email: '',\n        password: ''\n    });   \n    const history = useHistory();\n  \n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setData((prevData) => ({\n            ...prevData,\n            [name]: value,\n        }));\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        const { email, password } = data;\n        if (!email || !password) {\n            return;\n        }\n        props.authorizeMesto(data);\n    }\n    return (\n        <section>\n\n            <div className='login'>\n                <h2 className=\"login__title\">Вход</h2>\n                <form className=\"login__form\" noValidate onSubmit={handleSubmit}>\n                    <input type=\"email\" className=\"login__input\" name=\"email\" defaultValue=\"\"\n                        required placeholder=\"Email\" defaultValue={data.email} onChange={handleChange} />\n                    <span id='login__email-error' className=\"login__error\"></span>\n                    <input id='login__password' type=\"text\" className=\"login__input\" name='password'\n                        defaultValue=\"\" required placeholder=\"Password\" defaultValue={data.password} onChange={handleChange} />\n                    <span id='login__description-error' className=\"popup__error\"></span>\n                    <button className=\"login__save\" >Войти</button>\n                </form>\n            </div>\n\n        </section>\n\n    )\n\n};\n\nexport default withRouter(Login);","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction Register(props) {\n    const [data, setData] = useState({\n        email: '',\n        password: ''\n    });\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setData((prevData) => ({\n            ...prevData,\n            [name]: value,\n        }));\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(data)\n        props.registerMesto(data)\n    }\n\n    return (\n        <section>\n            <div className='login'>\n                <h2 className=\"login__title\">Регистрация</h2>\n                <form className=\"login__form\" noValidate onSubmit={handleSubmit}>\n                    <input type=\"email\" className=\"login__input\" name=\"email\" defaultValue=\"\"\n                        required placeholder=\"Email\" defaultValue={data.email} onChange={handleChange} />\n                    <span id='login__email-error' className=\"login__error\"></span>\n                    <input id='login__password' type=\"text\" className=\"login__input\" name='password'\n                        defaultValue=\"\" required placeholder=\"Пароль\" defaultValue={data.password} onChange={handleChange} />\n                    <span id='login__description-error' className=\"popup__error\"></span>\n                    <button className=\"login__save\" >Зарегистрироваться</button>\n                    <p className='login__auth'>Уже зарегистрированы? Войти</p>\n                </form>\n            </div>\n        </section>\n    )\n};\n\nexport default withRouter(Register);","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\n// этот компонент принимает другой компонент в качестве пропса\n// он также может взять неограниченное число пропсов и передать их новому компоненту\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute; ","export default __webpack_public_path__ + \"static/media/Union.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Union-no.df8eddf6.svg\";","import React from 'react';\nimport imageSuccessfully from '../images/Union.svg';\nimport imageUnsuccessful from '../images/Union-no.svg';\n\nfunction InfoTooltip(props) {\n    return (\n        <section className={`popup ${props.isInfoTooltip ? 'popup_opened' : ''}`}>\n\n            {props.status === 'successfully' ?\n                <div className=\"popup__container\">\n                    <button className=\"popup__close-button\" onClick={props.isClose}></button>\n                    <img className='popup__image-successfully' src={imageSuccessfully} alt='Успешно зарегестрировались' ></img>\n                    <p className='popup__successfully-text'>Вы успешно зарегистрировались!</p>\n                </div>\n                :\n                <div className=\"popup__container\">\n                    <button className=\"popup__close-button\" onClick={props.isClose}></button>\n                    <img className='popup__image-successfully' src={imageUnsuccessful} alt='Что-то пошло не так' ></img>\n                    <p className='popup__successfully-text'>Что-то пошло не так! Попробуйте ещё раз.</p>\n                </div>\n            }\n        </section>\n    )\n\n};\n\nexport default InfoTooltip;","import React from 'react';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport '../App.css';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport api from '../utils/Api.js';\nimport ImagePopup from './ImagePopup.js';\nimport { CurrentUserContext } from './contexts.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport * as mestoAuth from '../mestoAuth.js';\nimport { getToken, setToken, removeToken } from '../utils/token.js';\nimport InfoTooltip from './InfoTooltip.js';\n\n\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [dataCards, setDataCards] = React.useState([]);\n  const [isInfoTooltip, setisInfoTooltip] = useState(false);\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleClosePopup() {\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setisInfoTooltip(false);\n    setSelectedCard({});\n\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(data) {\n    api.creatProfile(data).then((res) => {\n      setCurrentUser(res)\n      console.log(res)\n      setIsEditProfilePopupOpen(false);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.creatAvatar(avatar).then((res) => {\n      setCurrentUser(res)\n      console.log(res)\n      setIsEditAvatarPopupOpen(false);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAddPlaceSubmit(data) {\n    const token = getToken();\n    console.log(token)\n    console.log(data)\n    api.createInitialCards(data, token).then(res => {\n      setDataCards([res, ...dataCards]);\n      setIsAddPlacePopupOpen(false);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(id) {\n    const token = getToken();\n    api.deletInitialCards(id, token).then(() => {\n\n      const newDataCards = dataCards.filter((item) => item._id !== id);\n\n      setDataCards(newDataCards);\n    })\n      .catch(err => console.error(err))\n  }\n\n  function handleCardLike(card) {\n    api.likeCard(card._id).then((newCard) => {\n      const newDataCards = dataCards.map((item) => item._id !== card._id ? item : newCard);\n      setDataCards(newDataCards);\n    })\n      .catch(err => console.error(err))\n  }\n\n  function handleCardDislike(card) {\n    api.dislikeCard(card._id).then((newCard) => {\n      const newDataCards = dataCards.map((item) => item._id !== card._id ? item : newCard);\n      setDataCards(newDataCards);\n    })\n      .catch(err => console.error(err))\n  }\n\n  // useEffect(() => {\n  //   const token = getToken();\n  //   console.log(\"token\")\n  //   api.getAppInfo(token).then((res) => {\n  //     const [initialCard, profileData] = res;\n  //     setCurrentUser(profileData)\n  //     setDataCards(initialCard)\n  //   })\n  //     .catch(err => console.error(err))\n  // }, [])\n\n  function startInfo() {\n    const token = getToken();\n    console.log(token)\n    api.getAppInfo(token).then((res) => {\n      const [initialCard, profileData] = res;\n      console.log(res)\n      console.log(initialCard)\n      setCurrentUser(profileData)\n      setDataCards(initialCard)\n    })\n      .catch(err => console.error(err))\n  }\n\n  //Ниже 14 проектная\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({ email: '', password: '' });\n  const [message, setMessage] = useState('');\n  const history = useHistory();\n  const [status, setStatus] = useState('');\n\n  const handleLogin = (userData) => {\n    setUserData(userData);\n    setLoggedIn(true);\n  }\n\n  const tokenCheck = () => {\n    const jwt = getToken();\n\n    if (!jwt) {\n      removeToken(jwt);\n      return;\n    }\n\n    mestoAuth.getContent(jwt)\n    .then((res) => {\n      if (res) {\n        console.log(res)\n        const userData = {\n  \n          email: res.email\n        }\n        setLoggedIn(true);\n        setUserData(userData);\n        startInfo()\n        history.push('/')\n      }\n    })\n    .catch(err => console.log(err))\n  }\n  console.log(localStorage)\n\n  const authorizeMesto = (data) => {\n    const { email, password } = data;\n    mestoAuth.authorize(email, password)\n      .then((data) => {\n        if (!data) {\n          setMessage('Что-то пошло не так!')\n        }\n        if (data.token) {\n          setToken(data.token);\n          setUserData({ username: '', password: '' });\n          setMessage('');\n          handleLogin(data.token);\n          startInfo()\n          console.log(data)\n          history.push('/');\n        }\n      })\n      .catch(err => console.log(err));\n  }\n\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  const registerMesto = (data) => {\n    const { email, password } = data;\n    mestoAuth.register(email, password)\n      .then((res) => {      \n        if (res.status !== 400) {\n          setMessage('');\n          setisInfoTooltip(true);\n          setStatus('successfully');\n          history.push('/signin');\n        } else {\n          setMessage('Что-то пошло не так!')\n          console.log('hey')\n          setisInfoTooltip(true);\n          setStatus('unsuccessful');\n        }\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n\n  return (\n\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"body\">\n        <Header loggedIn={loggedIn} userData={userData} />\n\n        <Switch>\n          <ProtectedRoute exact path=\"/\"\n            loggedIn={loggedIn}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            isPlace={isAddPlacePopupOpen}\n            isAvatar={isEditAvatarPopupOpen}\n            onEditAvatar={handleEditAvatarClick}\n            dataCard={dataCards}\n            onCardClick={handleCardClick}\n            card={selectedCard}\n            onCardDelete={handleCardDelete}\n            onCardLike={handleCardLike}\n            onCardDislike={handleCardDislike}\n            component={Main}\n          />\n\n          <Route path=\"/signin\">\n\n            <Login handleLogin={handleLogin}\n              authorizeMesto={authorizeMesto}\n            />\n\n\n          </Route>\n          <Route path='/signup'>\n            <Register registerMesto={registerMesto} />\n          </Route>\n        </Switch>\n        <ImagePopup card={selectedCard}\n          onClose={handleClosePopup}\n        />\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          isClose={handleClosePopup}\n          onSubmitHandler={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          isClose={handleClosePopup}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          isClose={handleClosePopup}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <InfoTooltip\n          isInfoTooltip={isInfoTooltip}\n          status={status}\n          isClose={handleClosePopup}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n\n  );\n}\n\nexport default App;\n\n{/* <Switch>\n          {/* <Route path=\"/signup\">\n            <Register onRegister={onRegister} />\n          </Route> */}\n        //   <Route path=\"/signin\">\n        //     <Login /*onLogin={onLogin}*/ />\n        //   </Route>\n        // </Switch> */}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}